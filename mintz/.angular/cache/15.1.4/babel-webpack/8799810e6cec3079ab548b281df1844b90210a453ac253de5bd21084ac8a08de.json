{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CarrinhoComponent = class CarrinhoComponent {\n  constructor(carrinhoService, router, pedidoService) {\n    this.carrinhoService = carrinhoService;\n    this.router = router;\n    this.pedidoService = pedidoService;\n    this.itensCarrinho = [];\n    this.total = 0.00;\n  }\n  ngOnInit() {\n    this.consultarCarrinho();\n    this.calcularTotal();\n  }\n  removerItem(itemId) {\n    this.carrinhoService.removerCarrinho(itemId);\n    this.consultarCarrinho();\n    this.calcularTotal();\n  }\n  calcularTotal() {\n    this.total = this.itensCarrinho.reduce((prev, curr) => prev + curr.preco * curr.quantidade, 0);\n  }\n  consultarCarrinho() {\n    this.itensCarrinho = this.carrinhoService.obterCarrinho();\n  }\n  atualizarCarrinho() {\n    this.carrinhoService.atualizarCarrinho();\n  }\n  comprar() {\n    const clienteLogado = localStorage.getItem(\"cliente\");\n    if (clienteLogado != null) {\n      alert('Obrigado pela compra!');\n      this.carrinhoService.limparCarrinho();\n      this.router.navigate(['produtos']);\n    } else {\n      alert('Você não está logado');\n    }\n  }\n  limparCarrinho() {\n    this.carrinhoService.limparCarrinho();\n    this.consultarCarrinho();\n  }\n};\nCarrinhoComponent = __decorate([Component({\n  selector: 'app-carrinho',\n  templateUrl: './carrinho.component.html',\n  styleUrls: ['./carrinho.component.css']\n})], CarrinhoComponent);\nexport { CarrinhoComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAUlC,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAK5BC,YACSC,eAAgC,EAC/BC,MAAc,EACfC,aAAoB;IAFpB,oBAAe,GAAfF,eAAe;IACd,WAAM,GAANC,MAAM;IACP,kBAAa,GAAbC,aAAa;IAPtB,kBAAa,GAAuB,EAAE;IACtC,UAAK,GAAW,IAAI;EAOlB;EAEFC,QAAQ;IACN,IAAI,CAACC,iBAAiB,EAAE;IACxB,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAC,WAAW,CAACC,MAAc;IACxB,IAAI,CAACP,eAAe,CAACQ,eAAe,CAACD,MAAM,CAAC;IAC5C,IAAI,CAACH,iBAAiB,EAAE;IACxB,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAA,aAAa;IACX,IAAI,CAACI,KAAK,GAAG,IAAI,CAACC,aAAa,CAACC,MAAM,CAAC,CAACC,IAAI,EAAEC,IAAI,KAAKD,IAAI,GAAIC,IAAI,CAACC,KAAK,GAAGD,IAAI,CAACE,UAAW,EAAE,CAAC,CAAC;EAClG;EAEAX,iBAAiB;IACf,IAAI,CAACM,aAAa,GAAG,IAAI,CAACV,eAAe,CAACgB,aAAa,EAAE;EAC3D;EAEAC,iBAAiB;IACf,IAAI,CAACjB,eAAe,CAACiB,iBAAiB,EAAE;EAC1C;EAEAC,OAAO;IACL,MAAMC,aAAa,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;IACrD,IAAIF,aAAa,IAAI,IAAI,EAAE;MAEzBG,KAAK,CAAC,uBAAuB,CAAC;MAC9B,IAAI,CAACtB,eAAe,CAACuB,cAAc,EAAE;MACrC,IAAI,CAACtB,MAAM,CAACuB,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;KACnC,MAAM;MACLF,KAAK,CAAC,sBAAsB,CAAC;;EAEjC;EAEAC,cAAc;IACZ,IAAI,CAACvB,eAAe,CAACuB,cAAc,EAAE;IACrC,IAAI,CAACnB,iBAAiB,EAAE;EAC1B;CACD;AAlDYN,iBAAiB,eAL7BD,SAAS,CAAC;EACT4B,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,GACW7B,iBAAiB,CAkD7B;SAlDYA,iBAAiB","names":["Component","CarrinhoComponent","constructor","carrinhoService","router","pedidoService","ngOnInit","consultarCarrinho","calcularTotal","removerItem","itemId","removerCarrinho","total","itensCarrinho","reduce","prev","curr","preco","quantidade","obterCarrinho","atualizarCarrinho","comprar","clienteLogado","localStorage","getItem","alert","limparCarrinho","navigate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["D:\\OneDrive - Fatec Centro Paula Souza\\Documentos\\Estudos\\Fatec_ADS\\4-Web\\pw-p2\\mintz\\src\\app\\carrinho\\carrinho.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CarrinhoService } from '../services/carrinho.service';\r\nimport { IProdutoCarrinho } from '../produtos';\r\n\r\n@Component({\r\n  selector: 'app-carrinho',\r\n  templateUrl: './carrinho.component.html',\r\n  styleUrls: ['./carrinho.component.css']\r\n})\r\nexport class CarrinhoComponent {\r\n  itensCarrinho: IProdutoCarrinho[] = [];\r\n  total: number = 0.00;\r\n\r\n\r\n  constructor(\r\n    public carrinhoService: CarrinhoService,\r\n    private router: Router,\r\n    public pedidoService: Pedid\r\n  ){}\r\n\r\n  ngOnInit():void{\r\n    this.consultarCarrinho();\r\n    this.calcularTotal();\r\n  }\r\n\r\n  removerItem(itemId: number){\r\n    this.carrinhoService.removerCarrinho(itemId);\r\n    this.consultarCarrinho();\r\n    this.calcularTotal();\r\n  }\r\n\r\n  calcularTotal(){\r\n    this.total = this.itensCarrinho.reduce((prev, curr) => prev + (curr.preco * curr.quantidade), 0);\r\n  }\r\n\r\n  consultarCarrinho(){\r\n    this.itensCarrinho = this.carrinhoService.obterCarrinho();\r\n  }\r\n\r\n  atualizarCarrinho(){\r\n    this.carrinhoService.atualizarCarrinho();\r\n  }\r\n\r\n  comprar(){\r\n    const clienteLogado = localStorage.getItem(\"cliente\");\r\n    if (clienteLogado != null) {\r\n\r\n      alert('Obrigado pela compra!');\r\n      this.carrinhoService.limparCarrinho();\r\n      this.router.navigate(['produtos']);\r\n    } else {\r\n      alert('Você não está logado');\r\n    }\r\n  }\r\n\r\n  limparCarrinho(){\r\n    this.carrinhoService.limparCarrinho();\r\n    this.consultarCarrinho();\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}