{"ast":null,"code":"import { Cliente } from '../cliente/cliente.model';\nimport { switchMap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/pedido.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction PedidosComponent_section_2_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 5)(1, \"p\", 6);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 6);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 6);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 6);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const pedido_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"N\\u00FAmero do pedido: \", pedido_r4.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(5, 4, pedido_r4.valorTotal, \"BRL\", \"R$ \"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(8, 8, pedido_r4.valorFrete, \"BRL\", \"R$ \"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(pedido_r4.status);\n  }\n}\nfunction PedidosComponent_section_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 3)(1, \"table\")(2, \"thead\");\n    i0.ɵɵtext(3, \" th \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"ul\");\n    i0.ɵɵtemplate(5, PedidosComponent_section_2_li_5_Template, 11, 12, \"li\", 4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.listaPedidos);\n  }\n}\nfunction PedidosComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 7)(1, \"h2\");\n    i0.ɵɵelement(2, \"i\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4, \"Voc\\u00EA ainda n\\u00E3o fez nenhuma compra\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6, \"Que tal navegar pelas ofertas e achar algo especial para voc\\u00EA?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 9);\n    i0.ɵɵtext(8, \"Ver produtos\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class PedidosComponent {\n  constructor(pedidoService, route) {\n    this.pedidoService = pedidoService;\n    this.route = route;\n    this.listaPedidos = [];\n    this.cliente = new Cliente();\n  }\n  ngOnInit() {\n    const clienteLogado = localStorage.getItem(\"cliente\");\n    if (clienteLogado != null) {\n      this.cliente = JSON.parse(clienteLogado);\n      this.route.queryParams.pipe(\n      // switchMap troca para um novo observable\n      switchMap(() => this.pedidoService.listar(this.cliente.id))\n      /*\r\n      ,\r\n      map((pedidos: Pedido[]) => {\r\n        // Pega a descrição digitada e converte para letras minúsculas\r\n        const descricao = this.route.snapshot.queryParams[\"descricao\"]?.toLowerCase();\r\n                  // Verifica se o produto digitado está presente na lista de produtos\r\n        if (descricao) {\r\n          return pedidos.filter(produto => produto.descricao.toLowerCase().includes(descricao));\r\n        }\r\n                  // Se não estiver no filtro, retorna toda a lista de produtos\r\n        return pedidos;\r\n      })\r\n      */).subscribe(pedidos => {\n        // O resultado final é atribuído a this.produtos\n        this.listaPedidos = pedidos;\n      });\n      //this.listaPedidos = this.pedidoService.listar(this.cliente.id);\n    }\n  }\n}\n\nPedidosComponent.ɵfac = function PedidosComponent_Factory(t) {\n  return new (t || PedidosComponent)(i0.ɵɵdirectiveInject(i1.PedidoService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nPedidosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PedidosComponent,\n  selectors: [[\"app-pedidos\"]],\n  decls: 5,\n  vars: 2,\n  consts: [[1, \"cart-title\", \"w3-text-indigo\", \"w3-margin\"], [\"class\", \"w3-margin\", 4, \"ngIf\", \"ngIfElse\"], [\"pedidosVazio\", \"\"], [1, \"w3-margin\"], [\"class\", \"w3-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"w3-card\"], [1, \"w3-bar-item\"], [1, \"w3-margin\", \"w3-padding-64\", \"w3-center\", \"w3-text-indigo\"], [1, \"fa-solid\", \"fa-cart-shopping\", \"icoVazio\"], [\"routerLink\", \"../produtos\", 1, \"w3-button\", \"w3-indigo\", \"w3-hover-orange\", \"w3-round-large\", \"w3-xlarge\", \"w3-margin\", \"w3-padding-16\", \"btnVerMais\"]],\n  template: function PedidosComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\", 0);\n      i0.ɵɵtext(1, \"Pedidos\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, PedidosComponent_section_2_Template, 6, 1, \"section\", 1);\n      i0.ɵɵtemplate(3, PedidosComponent_ng_template_3_Template, 9, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(4);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.listaPedidos.length > 0)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i2.RouterLink, i3.CurrencyPipe],\n  styles: [\".button-remove[_ngcontent-%COMP%]{\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.w3-card[_ngcontent-%COMP%]{\\r\\n    border-radius: 10px;\\r\\n}\\r\\n\\r\\n.btn-comandos[_ngcontent-%COMP%]{\\r\\n    width: 150px;\\r\\n}\\r\\n\\r\\n.cart-title[_ngcontent-%COMP%] {\\r\\n    font-size: 44px;\\r\\n    font-weight: 700;\\r\\n    padding: 8px 0;\\r\\n}\\r\\n\\r\\nli[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    overflow: hidden;\\r\\n    margin: 10px 0;\\r\\n    height: 100px;\\r\\n    align-items: center;\\r\\n    justify-content: space-between;\\r\\n}\\r\\n\\r\\nimg[_ngcontent-%COMP%] {\\r\\n    width: 100px;\\r\\n    height: 100px;\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.cart-total[_ngcontent-%COMP%] {\\r\\n    font-size: 24px;\\r\\n    font-weight: 700;\\r\\n    padding: 8px 0;\\r\\n}\\r\\n\\r\\ninput[_ngcontent-%COMP%] {\\r\\n    width: 40px;\\r\\n    text-align: center;\\r\\n    border: none;\\r\\n    border-bottom: 1px solid gray;\\r\\n}\\r\\n.icoVazio[_ngcontent-%COMP%]{\\r\\n    font-size: 6rem;\\r\\n}\\r\\n.btnVerMais[_ngcontent-%COMP%]{\\r\\n    width: 250px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGVkaWRvcy9wZWRpZG9zLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsY0FBYztBQUNsQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixnQkFBZ0I7SUFDaEIsY0FBYztJQUNkLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsOEJBQThCO0FBQ2xDOztBQUVBO0lBQ0ksWUFBWTtJQUNaLGFBQWE7SUFDYixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksV0FBVztJQUNYLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osNkJBQTZCO0FBQ2pDO0FBQ0E7SUFDSSxlQUFlO0FBQ25CO0FBQ0E7SUFDSSxZQUFZO0FBQ2hCIiwic291cmNlc0NvbnRlbnQiOlsiLmJ1dHRvbi1yZW1vdmV7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbi53My1jYXJke1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxufVxyXG5cclxuLmJ0bi1jb21hbmRvc3tcclxuICAgIHdpZHRoOiAxNTBweDtcclxufVxyXG5cclxuLmNhcnQtdGl0bGUge1xyXG4gICAgZm9udC1zaXplOiA0NHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcclxuICAgIHBhZGRpbmc6IDhweCAwO1xyXG59XHJcblxyXG5saSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIG1hcmdpbjogMTBweCAwO1xyXG4gICAgaGVpZ2h0OiAxMDBweDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbn1cclxuXHJcbmltZyB7XHJcbiAgICB3aWR0aDogMTAwcHg7XHJcbiAgICBoZWlnaHQ6IDEwMHB4O1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbn1cclxuXHJcbi5jYXJ0LXRvdGFsIHtcclxuICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgICBwYWRkaW5nOiA4cHggMDtcclxufVxyXG5cclxuaW5wdXQge1xyXG4gICAgd2lkdGg6IDQwcHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgZ3JheTtcclxufVxyXG4uaWNvVmF6aW97XHJcbiAgICBmb250LXNpemU6IDZyZW07XHJcbn1cclxuLmJ0blZlck1haXN7XHJcbiAgICB3aWR0aDogMjUwcHg7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"AAGA,SAASA,OAAO,QAAQ,0BAA0B;AAElD,SAAcC,SAAS,QAAQ,MAAM;;;;;;;ICI7BC,6BAAwD;IAC7BA,YAA+B;IAAAA,iBAAI;IAC1DA,4BAAuB;IAAAA,YAA8C;;IAAAA,iBAAI;IACzEA,4BAAuB;IAAAA,YAA8C;;IAAAA,iBAAI;IACzEA,4BAAuB;IAAAA,aAAiB;IAAAA,iBAAI;;;;IAHrBA,eAA+B;IAA/BA,kEAA+B;IAC/BA,eAA8C;IAA9CA,8EAA8C;IAC9CA,eAA8C;IAA9CA,8EAA8C;IAC9CA,eAAiB;IAAjBA,sCAAiB;;;;;IAZpDA,kCAA8E;IAIlEA,oBACJ;IAAAA,iBAAQ;IAEZA,0BAAI;IACAA,2EAKK;IACTA,iBAAK;;;;IANsCA,eAAe;IAAfA,6CAAe;;;;;IAW1DA,kCAAkE;IAC1DA,uBAAkD;IAAAA,iBAAK;IAC3DA,0BAAI;IAAAA,2DAAiC;IAAAA,iBAAK;IAC1CA,yBAAG;IAAAA,mFAA8D;IAAAA,iBAAI;IACrEA,iCAAyI;IAAAA,4BAAY;IAAAA,iBAAS;;;ADZtK,OAAM,MAAOC,gBAAgB;EAI3BC,YACSC,aAA4B,EAC3BC,KAAqB;IADtB,kBAAa,GAAbD,aAAa;IACZ,UAAK,GAALC,KAAK;IALf,iBAAY,GAAa,EAAE;IAC3B,YAAO,GAAY,IAAIN,OAAO,EAAE;EAK9B;EAEFO,QAAQ;IACN,MAAMC,aAAa,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;IACrD,IAAIF,aAAa,IAAI,IAAI,EAAE;MACzB,IAAI,CAACG,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACL,aAAa,CAAC;MAGxC,IAAI,CAACF,KAAK,CAACQ,WAAW,CAACC,IAAI;MACzB;MACAd,SAAS,CAAC,MAAM,IAAI,CAACI,aAAa,CAACW,MAAM,CAAC,IAAI,CAACL,OAAO,CAACM,EAAE,CAAC;MAC1D;;;;;;;;;;;;QAAA,CAeD,CAACC,SAAS,CAACC,OAAO,IAAG;QACpB;QACA,IAAI,CAACC,YAAY,GAAGD,OAAO;MAC7B,CAAC,CAAC;MAGF;;EAEJ;;;AAzCWhB,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAkB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZ7BvB,6BAAgD;MAAAA,uBAAO;MAAAA,iBAAK;MAC5DA,yEAgBU;MAEVA,kHAOc;;;;MAzBcA,eAA+B;MAA/BA,kDAA+B","names":["Cliente","switchMap","i0","PedidosComponent","constructor","pedidoService","route","ngOnInit","clienteLogado","localStorage","getItem","cliente","JSON","parse","queryParams","pipe","listar","id","subscribe","pedidos","listaPedidos","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\OneDrive - Fatec Centro Paula Souza\\Documentos\\Estudos\\Fatec_ADS\\4-Web\\pw-p2\\mintz\\src\\app\\pedidos\\pedidos.component.ts","D:\\OneDrive - Fatec Centro Paula Souza\\Documentos\\Estudos\\Fatec_ADS\\4-Web\\pw-p2\\mintz\\src\\app\\pedidos\\pedidos.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Pedido } from './pedido.model';\r\nimport { PedidoService } from '../services/pedido.service';\r\nimport { Cliente } from '../cliente/cliente.model';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { map, switchMap } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-pedidos',\r\n  templateUrl: './pedidos.component.html',\r\n  styleUrls: ['./pedidos.component.css']\r\n})\r\nexport class PedidosComponent {\r\n  listaPedidos: Pedido[] = [];\r\n  cliente: Cliente = new Cliente();\r\n\r\n  constructor(\r\n    public pedidoService: PedidoService,\r\n    private route: ActivatedRoute\r\n  ){}\r\n\r\n  ngOnInit(){\r\n    const clienteLogado = localStorage.getItem(\"cliente\");\r\n    if (clienteLogado != null) {\r\n      this.cliente = JSON.parse(clienteLogado);\r\n\r\n\r\n      this.route.queryParams.pipe(\r\n        // switchMap troca para um novo observable\r\n        switchMap(() => this.pedidoService.listar(this.cliente.id))\r\n        /*\r\n        ,\r\n        map((pedidos: Pedido[]) => {\r\n          // Pega a descrição digitada e converte para letras minúsculas\r\n          const descricao = this.route.snapshot.queryParams[\"descricao\"]?.toLowerCase();\r\n    \r\n          // Verifica se o produto digitado está presente na lista de produtos\r\n          if (descricao) {\r\n            return pedidos.filter(produto => produto.descricao.toLowerCase().includes(descricao));\r\n          }\r\n    \r\n          // Se não estiver no filtro, retorna toda a lista de produtos\r\n          return pedidos;\r\n        })\r\n        */\r\n      ).subscribe(pedidos => {\r\n        // O resultado final é atribuído a this.produtos\r\n        this.listaPedidos = pedidos;\r\n      });\r\n\r\n\r\n      //this.listaPedidos = this.pedidoService.listar(this.cliente.id);\r\n    }\r\n  }\r\n}\r\n","<h2 class=\"cart-title w3-text-indigo w3-margin\">Pedidos</h2>\r\n<section class=\"w3-margin\" *ngIf=\"listaPedidos.length > 0; else pedidosVazio\">\r\n    <!-- Tabela de pedidos -->\r\n    <table>\r\n        <thead>\r\n            th\r\n        </thead>\r\n    </table>\r\n    <ul>\r\n        <li class=\"w3-card\" *ngFor=\"let pedido of listaPedidos\">\r\n            <p class=\"w3-bar-item\">Número do pedido: {{pedido.id}}</p>\r\n            <p class=\"w3-bar-item\">{{pedido.valorTotal | currency:'BRL' : 'R$ '}}</p>\r\n            <p class=\"w3-bar-item\">{{pedido.valorFrete | currency:'BRL' : 'R$ '}}</p>\r\n            <p class=\"w3-bar-item\">{{pedido.status}}</p>\r\n        </li>\r\n    </ul>\r\n    \r\n</section>\r\n\r\n<ng-template #pedidosVazio>\r\n    <section class=\"w3-margin w3-padding-64 w3-center w3-text-indigo\">\r\n        <h2><i class=\"fa-solid fa-cart-shopping icoVazio\"></i></h2>\r\n        <h3>Você ainda não fez nenhuma compra</h3>\r\n        <p>Que tal navegar pelas ofertas e achar algo especial para você?</p>\r\n        <button class=\"w3-button w3-indigo w3-hover-orange w3-round-large w3-xlarge w3-margin w3-padding-16 btnVerMais\" routerLink=\"../produtos\">Ver produtos</button>\r\n    </section>\r\n</ng-template>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}