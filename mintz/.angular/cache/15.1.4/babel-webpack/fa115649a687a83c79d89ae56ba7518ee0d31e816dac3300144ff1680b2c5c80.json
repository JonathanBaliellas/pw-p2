{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../carrinho.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction CarrinhoComponent_section_2_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 7);\n    i0.ɵɵelement(1, \"img\", 8);\n    i0.ɵɵelementStart(2, \"p\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 9);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\", 9);\n    i0.ɵɵtext(8, \" Quantidade: \");\n    i0.ɵɵelementStart(9, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function CarrinhoComponent_section_2_li_2_Template_input_ngModelChange_9_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const itemCarrinho_r4 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(itemCarrinho_r4.quantidade = $event);\n    })(\"change\", function CarrinhoComponent_section_2_li_2_Template_input_change_9_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.calcularTotal());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function CarrinhoComponent_section_2_li_2_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const itemCarrinho_r4 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.removerItem(itemCarrinho_r4.id));\n    });\n    i0.ɵɵelement(11, \"i\", 12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const itemCarrinho_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", itemCarrinho_r4.imagem, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(itemCarrinho_r4.descricao);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(6, 4, itemCarrinho_r4.preco, \"BRL\", \"R$ \"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", itemCarrinho_r4.quantidade);\n  }\n}\nfunction CarrinhoComponent_section_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"section\", 3)(1, \"ul\");\n    i0.ɵɵtemplate(2, CarrinhoComponent_section_2_li_2_Template, 12, 8, \"li\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"section\", 3)(4, \"h2\", 5);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function CarrinhoComponent_section_2_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.comprar());\n    });\n    i0.ɵɵtext(8, \"Comprar\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.itensCarrinho);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Total: \", i0.ɵɵpipeBind4(6, 2, ctx_r0.total, \"BRL\", \"R$ \", \".2-2\"), \"\");\n  }\n}\nfunction CarrinhoComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 13)(1, \"h2\");\n    i0.ɵɵelement(2, \"i\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4, \"Seu carrinho est\\u00E1 vazio\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6, \"Que tal navegar pelas ofertas e achar algo especial para voc\\u00EA?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 15);\n    i0.ɵɵtext(8, \"Ver produtos\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class CarrinhoComponent {\n  constructor(carrinhoService, router) {\n    this.carrinhoService = carrinhoService;\n    this.router = router;\n    this.itensCarrinho = [];\n    this.total = 0.00;\n  }\n  ngOnInit() {\n    this.consultarCarrinho();\n    this.calcularTotal();\n  }\n  removerItem(itemId) {\n    this.carrinhoService.removerCarrinho(itemId);\n    this.consultarCarrinho();\n    this.calcularTotal();\n  }\n  calcularTotal() {\n    this.total = this.itensCarrinho.reduce((prev, curr) => prev + curr.preco * curr.quantidade, 0);\n  }\n  consultarCarrinho() {\n    this.itensCarrinho = this.carrinhoService.obterCarrinho();\n  }\n  atualizarCarrinho() {\n    this.carrinhoService.atualizarCarrinho();\n  }\n  comprar() {\n    alert('Obrigado pela compra!');\n    this.carrinhoService.limparCarrinho();\n    this.router.navigate(['produtos']);\n  }\n}\nCarrinhoComponent.ɵfac = function CarrinhoComponent_Factory(t) {\n  return new (t || CarrinhoComponent)(i0.ɵɵdirectiveInject(i1.CarrinhoService), i0.ɵɵdirectiveInject(i2.Router));\n};\nCarrinhoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CarrinhoComponent,\n  selectors: [[\"app-carrinho\"]],\n  decls: 5,\n  vars: 2,\n  consts: [[1, \"cart-title\", \"w3-text-indigo\", \"w3-margin\"], [\"class\", \"w3-margin\", 4, \"ngIf\", \"ngIfElse\"], [\"carrinhoVazio\", \"\"], [1, \"w3-margin\"], [\"class\", \"w3-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"cart-total\", \"w3-text-indigo\"], [1, \"w3-button\", \"w3-indigo\", \"w3-hover-orange\", \"w3-round-large\", 3, \"click\"], [1, \"w3-card\"], [1, \"w3-bar-item\", 3, \"src\"], [1, \"w3-bar-item\"], [\"type\", \"number\", \"id\", \"\", \"min\", \"1\", \"max\", \"99\", 1, \"input\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [1, \"w3-button\", \"w3-indigo\", \"w3-hover-orange\", \"w3-bar-item\", \"w3-right\", \"button-remove\", 3, \"click\"], [1, \"fa-solid\", \"fa-xmark\"], [1, \"w3-margin\", \"w3-padding-64\", \"w3-center\", \"w3-text-indigo\"], [1, \"fa-solid\", \"fa-cart-shopping\", \"icoVazio\"], [\"routerLink\", \"../produtos\", 1, \"w3-button\", \"w3-indigo\", \"w3-hover-orange\", \"w3-round-large\", \"w3-xlarge\", \"w3-margin\", \"w3-padding-16\", \"btnVerMais\"]],\n  template: function CarrinhoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\", 0);\n      i0.ɵɵtext(1, \"Carrinho\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, CarrinhoComponent_section_2_Template, 9, 7, \"section\", 1);\n      i0.ɵɵtemplate(3, CarrinhoComponent_ng_template_3_Template, 9, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(4);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.itensCarrinho.length > 0)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i2.RouterLink, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.MinValidator, i4.MaxValidator, i4.NgModel, i3.CurrencyPipe],\n  styles: [\".button-remove[_ngcontent-%COMP%]{\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.w3-card[_ngcontent-%COMP%]{\\r\\n    border-radius: 10px;\\r\\n}\\r\\n\\r\\n.cart-title[_ngcontent-%COMP%] {\\r\\n    font-size: 44px;\\r\\n    font-weight: 700;\\r\\n    padding: 8px 0;\\r\\n}\\r\\n\\r\\nli[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    overflow: hidden;\\r\\n    margin: 10px 0;\\r\\n    height: 100px;\\r\\n    align-items: center;\\r\\n    justify-content: space-between;\\r\\n}\\r\\n\\r\\nimg[_ngcontent-%COMP%] {\\r\\n    width: 100px;\\r\\n    height: 100px;\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.cart-total[_ngcontent-%COMP%] {\\r\\n    font-size: 24px;\\r\\n    font-weight: 700;\\r\\n    padding: 8px 0;\\r\\n}\\r\\n\\r\\ninput[_ngcontent-%COMP%] {\\r\\n    width: 40px;\\r\\n    text-align: center;\\r\\n    border: none;\\r\\n    border-bottom: 1px solid gray;\\r\\n}\\r\\n.icoVazio[_ngcontent-%COMP%]{\\r\\n    font-size: 6rem;\\r\\n}\\r\\n.btnVerMais[_ngcontent-%COMP%]{\\r\\n    width: 250px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2FycmluaG8vY2FycmluaG8uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7QUFDQSxVQUFVO0FBQ1Y7SUFDSSxlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsZ0JBQWdCO0lBQ2hCLGNBQWM7SUFDZCxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLDhCQUE4QjtBQUNsQzs7QUFFQTtJQUNJLFlBQVk7SUFDWixhQUFhO0lBQ2IsY0FBYztBQUNsQjs7QUFFQTtJQUNJLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIsY0FBYztBQUNsQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLDZCQUE2QjtBQUNqQztBQUNBO0lBQ0ksZUFBZTtBQUNuQjtBQUNBO0lBQ0ksWUFBWTtBQUNoQiIsInNvdXJjZXNDb250ZW50IjpbIi5idXR0b24tcmVtb3Zle1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG4udzMtY2FyZHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbn1cclxuLyogQ3Vyc28gKi9cclxuLmNhcnQtdGl0bGUge1xyXG4gICAgZm9udC1zaXplOiA0NHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcclxuICAgIHBhZGRpbmc6IDhweCAwO1xyXG59XHJcblxyXG5saSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIG1hcmdpbjogMTBweCAwO1xyXG4gICAgaGVpZ2h0OiAxMDBweDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbn1cclxuXHJcbmltZyB7XHJcbiAgICB3aWR0aDogMTAwcHg7XHJcbiAgICBoZWlnaHQ6IDEwMHB4O1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbn1cclxuXHJcbi5jYXJ0LXRvdGFsIHtcclxuICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgICBwYWRkaW5nOiA4cHggMDtcclxufVxyXG5cclxuaW5wdXQge1xyXG4gICAgd2lkdGg6IDQwcHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgZ3JheTtcclxufVxyXG4uaWNvVmF6aW97XHJcbiAgICBmb250LXNpemU6IDZyZW07XHJcbn1cclxuLmJ0blZlck1haXN7XHJcbiAgICB3aWR0aDogMjUwcHg7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAGQA,6BAA+D;IAC3DA,yBAAqD;IACrDA,4BAAuB;IAAAA,YAA0B;IAAAA,iBAAI;IACrDA,4BAAuB;IAAAA,YAA+C;;IAAAA,iBAAI;IAC1EA,gCAA2B;IACvBA,6BACA;IAAAA,iCAA2H;IAAjEA;MAAA;MAAA;MAAA,OAAaA,mDAA+B;IAAA,EAAP;MAAAA;MAAA;MAAA,OAAWA,qCAAe;IAAA,EAA1B;IAA/FA,iBAA2H;IAE/HA,mCAA8H;IAAvCA;MAAA;MAAA;MAAA;MAAA,OAASA,qDAA4B;IAAA,EAAC;IAACA,yBAAiC;IAAAA,iBAAS;;;;IAPnKA,eAA2B;IAA3BA,8DAA2B;IACTA,eAA0B;IAA1BA,+CAA0B;IAC1BA,eAA+C;IAA/CA,+EAA+C;IAGRA,eAAqC;IAArCA,oDAAqC;;;;;;IAR/GA,kCAAgF;IAExEA,2EASK;IACTA,iBAAK;IACLA,kCAA2B;IACeA,YAAkD;;IAAAA,iBAAK;IAC7FA,iCAAuF;IAApBA;MAAAA;MAAA;MAAA,OAASA,+BAAS;IAAA,EAAC;IAACA,uBAAO;IAAAA,iBAAS;;;;IAb1DA,eAAgB;IAAhBA,8CAAgB;IAYvBA,eAAkD;IAAlDA,8FAAkD;;;;;IAM5FA,mCAAkE;IAC1DA,wBAAkD;IAAAA,iBAAK;IAC3DA,0BAAI;IAAAA,4CAAuB;IAAAA,iBAAK;IAChCA,yBAAG;IAAAA,mFAA8D;IAAAA,iBAAI;IACrEA,kCAAyI;IAAAA,4BAAY;IAAAA,iBAAS;;;ACftK,OAAM,MAAOC,iBAAiB;EAI5BC,YACSC,eAAgC,EAC/BC,MAAc;IADf,oBAAe,GAAfD,eAAe;IACd,WAAM,GAANC,MAAM;IALhB,kBAAa,GAAuB,EAAE;IACtC,UAAK,GAAW,IAAI;EAKlB;EAEFC,QAAQ;IACN,IAAI,CAACC,iBAAiB,EAAE;IACxB,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAC,WAAW,CAACC,MAAc;IACxB,IAAI,CAACN,eAAe,CAACO,eAAe,CAACD,MAAM,CAAC;IAC5C,IAAI,CAACH,iBAAiB,EAAE;IACxB,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAA,aAAa;IACX,IAAI,CAACI,KAAK,GAAG,IAAI,CAACC,aAAa,CAACC,MAAM,CAAC,CAACC,IAAI,EAAEC,IAAI,KAAKD,IAAI,GAAIC,IAAI,CAACC,KAAK,GAAGD,IAAI,CAACE,UAAW,EAAE,CAAC,CAAC;EAClG;EAEAX,iBAAiB;IACf,IAAI,CAACM,aAAa,GAAG,IAAI,CAACT,eAAe,CAACe,aAAa,EAAE;EAC3D;EAEAC,iBAAiB;IACf,IAAI,CAAChB,eAAe,CAACgB,iBAAiB,EAAE;EAC1C;EAEAC,OAAO;IACLC,KAAK,CAAC,uBAAuB,CAAC;IAC9B,IAAI,CAAClB,eAAe,CAACmB,cAAc,EAAE;IACrC,IAAI,CAAClB,MAAM,CAACmB,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;EACpC;;AApCWtB,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV9B5B,6BAAgD;MAAAA,wBAAQ;MAAAA,iBAAK;MAC7DA,0EAiBU;MAEVA,mHAOc;;;;MA1BcA,eAAgC;MAAhCA,mDAAgC","names":["i0","CarrinhoComponent","constructor","carrinhoService","router","ngOnInit","consultarCarrinho","calcularTotal","removerItem","itemId","removerCarrinho","total","itensCarrinho","reduce","prev","curr","preco","quantidade","obterCarrinho","atualizarCarrinho","comprar","alert","limparCarrinho","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\GitHub\\pw_p1\\mintz\\src\\app\\carrinho\\carrinho.component.html","C:\\GitHub\\pw_p1\\mintz\\src\\app\\carrinho\\carrinho.component.ts"],"sourcesContent":["<h2 class=\"cart-title w3-text-indigo w3-margin\">Carrinho</h2>\r\n<section class=\"w3-margin\" *ngIf=\"itensCarrinho.length > 0; else carrinhoVazio\">\r\n    <ul>\r\n        <li class=\"w3-card\" *ngFor=\"let itemCarrinho of itensCarrinho\">\r\n            <img [src]=\"itemCarrinho.imagem\" class=\"w3-bar-item\">\r\n            <p class=\"w3-bar-item\">{{itemCarrinho.descricao}}</p>\r\n            <p class=\"w3-bar-item\">{{itemCarrinho.preco | currency:'BRL' : 'R$ '}}</p>\r\n            <label class=\"w3-bar-item\">\r\n                Quantidade: \r\n                <input type=\"number\" class=\"input\" id=\"\" min=\"1\" max=\"99\" [(ngModel)]=\"itemCarrinho.quantidade\" (change)=\"calcularTotal()\">\r\n            </label>\r\n            <button class=\"w3-button w3-indigo w3-hover-orange w3-bar-item w3-right button-remove\" (click)=\"removerItem(itemCarrinho.id)\"><i class=\"fa-solid fa-xmark\"></i></button>\r\n        </li>\r\n    </ul>\r\n    <section class=\"w3-margin\">\r\n        <h2 class=\"cart-total w3-text-indigo\">Total: {{total | currency:'BRL' : 'R$ ' : '.2-2'}}</h2>\r\n        <button class=\"w3-button w3-indigo w3-hover-orange w3-round-large\" (click)=\"comprar()\">Comprar</button>\r\n    </section>\r\n</section>\r\n\r\n<ng-template #carrinhoVazio>\r\n    <section class=\"w3-margin w3-padding-64 w3-center w3-text-indigo\">\r\n        <h2><i class=\"fa-solid fa-cart-shopping icoVazio\"></i></h2>\r\n        <h3>Seu carrinho está vazio</h3>\r\n        <p>Que tal navegar pelas ofertas e achar algo especial para você?</p>\r\n        <button class=\"w3-button w3-indigo w3-hover-orange w3-round-large w3-xlarge w3-margin w3-padding-16 btnVerMais\" routerLink=\"../produtos\">Ver produtos</button>\r\n    </section>\r\n</ng-template>","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CarrinhoService } from '../carrinho.service';\r\nimport { IProdutoCarrinho } from '../produtos';\r\n\r\n@Component({\r\n  selector: 'app-carrinho',\r\n  templateUrl: './carrinho.component.html',\r\n  styleUrls: ['./carrinho.component.css']\r\n})\r\nexport class CarrinhoComponent {\r\n  itensCarrinho: IProdutoCarrinho[] = [];\r\n  total: number = 0.00;\r\n\r\n  constructor(\r\n    public carrinhoService: CarrinhoService,\r\n    private router: Router\r\n  ){}\r\n\r\n  ngOnInit():void{\r\n    this.consultarCarrinho();\r\n    this.calcularTotal();\r\n  }\r\n\r\n  removerItem(itemId: number){\r\n    this.carrinhoService.removerCarrinho(itemId);\r\n    this.consultarCarrinho();\r\n    this.calcularTotal();\r\n  }\r\n\r\n  calcularTotal(){\r\n    this.total = this.itensCarrinho.reduce((prev, curr) => prev + (curr.preco * curr.quantidade), 0);\r\n  }\r\n\r\n  consultarCarrinho(){\r\n    this.itensCarrinho = this.carrinhoService.obterCarrinho();\r\n  }\r\n\r\n  atualizarCarrinho(){\r\n    this.carrinhoService.atualizarCarrinho();\r\n  }\r\n\r\n  comprar(){\r\n    alert('Obrigado pela compra!');\r\n    this.carrinhoService.limparCarrinho();\r\n    this.router.navigate(['produtos']);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}